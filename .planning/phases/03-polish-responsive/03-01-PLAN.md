---
plan: 03-01
title: "Mobile Navigation & Responsive Breakpoints"
wave: 1
depends_on: []
files_modified:
  - index.html
  - css/styles.css
  - js/main.js
autonomous: true

must_haves:
  truths:
    - "Hamburger menu appears on screens below 768px"
    - "Clicking hamburger opens full-screen mobile menu"
    - "Mobile menu shows all nav links and SUBMIT DEMOS CTA"
    - "Clicking a link closes menu and scrolls to section"
    - "Pressing Escape closes the mobile menu"
    - "Desktop nav remains unchanged above 768px"
    - "All tap targets are minimum 44x44px on mobile"
  artifacts:
    - path: "index.html"
      provides: "Mobile menu HTML with popover attribute"
      contains: "popover"
    - path: "css/styles.css"
      provides: "Mobile menu styles, responsive breakpoints"
      contains: "@media (max-width: 767px)"
    - path: "js/main.js"
      provides: "Mobile menu link click handler"
      contains: "hidePopover"
  key_links:
    - from: "button.nav-hamburger"
      to: "#mobile-menu"
      via: "popovertarget attribute"
      pattern: "popovertarget=\"mobile-menu\""
    - from: "js/main.js"
      to: "#mobile-menu"
      via: "hidePopover() on link click"
      pattern: "hidePopover"
---

<objective>
Implement mobile hamburger navigation using the Popover API and add responsive breakpoints for mobile (base), tablet (768px), and desktop (1024px). Ensure all interactive elements meet 44x44px touch target requirements on mobile.

Purpose: The site currently only works on desktop. Mobile users need a hamburger menu to access navigation, and the layout needs to adapt gracefully across device sizes.

Output: Fully responsive navigation with hamburger menu on mobile, proper breakpoints, and touch-friendly tap targets.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-polish-responsive/03-RESEARCH.md

Current state:
- Navigation is desktop-only with inline links
- No hamburger menu exists
- clamp() and auto-fit already provide some responsiveness
- Breakpoints not yet implemented

Reference files:
@index.html (lines 17-35 for nav structure)
@css/styles.css (lines 132-223 for nav styles)
@js/main.js (smooth scroll implementation)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Mobile Menu HTML with Popover API</name>
  <files>index.html</files>
  <action>
Modify the nav element to add:

1. Add `nav-links--desktop` class to existing `.nav-links` ul
2. Add `nav-cta--desktop` class to existing `.nav-cta` link
3. Add hamburger button after the logo:
```html
<button
  class="nav-hamburger"
  popovertarget="mobile-menu"
  aria-label="Open navigation menu"
>
  <span class="hamburger-line"></span>
  <span class="hamburger-line"></span>
  <span class="hamburger-line"></span>
</button>
```

4. Add mobile menu popover before closing `</nav>`:
```html
<nav id="mobile-menu" class="mobile-menu" popover>
  <button
    class="mobile-menu-close"
    popovertarget="mobile-menu"
    popovertargetaction="hide"
    aria-label="Close navigation menu"
  >
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </button>
  <ul class="mobile-menu-links">
    <li><a href="#success">SUCCESS</a></li>
    <li><a href="#strategy">STRATEGY</a></li>
    <li><a href="#services">SERVICES</a></li>
    <li><a href="#team">TEAM</a></li>
    <li><a href="#genres">GENRES</a></li>
    <li><a href="#contact">CONTACT</a></li>
  </ul>
  <a href="#submit-demos" class="cta-button mobile-menu-cta">SUBMIT DEMOS</a>
</nav>
```

The Popover API provides:
- Built-in light-dismiss (clicking outside closes)
- Esc key handling
- Top-layer promotion (no z-index issues)
- No JavaScript required for open/close
  </action>
  <verify>
- Open index.html in browser
- Inspect nav element - should contain hamburger button and mobile-menu popover
- Click hamburger (may need to resize to mobile width) - menu should appear
- Press Esc - menu should close
  </verify>
  <done>
HTML structure includes hamburger button with popovertarget, mobile menu with popover attribute, close button, nav links, and CTA. Desktop nav has --desktop modifier classes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Mobile Menu CSS and Responsive Breakpoints</name>
  <files>css/styles.css</files>
  <action>
Add a new section after "6. NAVIGATION" (around line 223) called "6A. MOBILE NAVIGATION":

```css
/* =================================
   6A. MOBILE NAVIGATION
   ================================= */

/* Hamburger button - hidden on desktop */
.nav-hamburger {
  display: none;
  flex-direction: column;
  justify-content: center;
  gap: 5px;
  width: 44px;
  height: 44px;
  padding: 10px;
  background: transparent;
  border: none;
  cursor: pointer;
}

.hamburger-line {
  display: block;
  width: 24px;
  height: 2px;
  background-color: var(--color-white);
  transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Mobile menu popover */
.mobile-menu {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  background-color: var(--color-bg);
  border: none;
  padding: var(--space-xl) var(--space-lg);
  display: flex;
  flex-direction: column;
  opacity: 0;
  transform: translateX(100%);
  transition: opacity 0.3s ease, transform 0.3s ease, display 0.3s ease allow-discrete;
}

.mobile-menu:popover-open {
  opacity: 1;
  transform: translateX(0);
}

@starting-style {
  .mobile-menu:popover-open {
    opacity: 0;
    transform: translateX(100%);
  }
}

.mobile-menu::backdrop {
  background-color: rgba(0, 0, 0, 0.5);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.mobile-menu:popover-open::backdrop {
  opacity: 1;
}

/* Close button */
.mobile-menu-close {
  align-self: flex-end;
  width: 44px;
  height: 44px;
  background: transparent;
  border: none;
  cursor: pointer;
  margin-bottom: var(--space-xl);
  color: var(--color-white);
}

.mobile-menu-close:focus {
  outline: 2px solid var(--color-gold);
  outline-offset: 2px;
}

/* Mobile menu links */
.mobile-menu-links {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  flex: 1;
}

.mobile-menu-links a {
  display: block;
  font-family: var(--font-sans);
  font-weight: var(--font-weight-semibold);
  font-size: 1.25rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-white);
  padding: var(--space-sm) 0;
  min-height: 44px;
}

.mobile-menu-links a:hover,
.mobile-menu-links a:focus {
  color: var(--color-gold);
}

.mobile-menu-links a:focus {
  outline: 2px solid var(--color-gold);
  outline-offset: 4px;
}

.mobile-menu-cta {
  margin-top: auto;
  text-align: center;
  min-height: 44px;
}
```

Then add a new section "13. RESPONSIVE BREAKPOINTS" at the end of the file:

```css
/* =================================
   13. RESPONSIVE BREAKPOINTS
   ================================= */

/* ---------------------------------
   Mobile (base - up to 767px)
   --------------------------------- */

@media (max-width: 767px) {
  /* Hide desktop nav, show hamburger */
  .nav-links--desktop,
  .nav-cta--desktop {
    display: none;
  }

  .nav-hamburger {
    display: flex;
  }

  /* Reduce section padding */
  .section {
    padding: var(--space-xl) 0;
  }

  /* Smaller container padding */
  .container {
    padding: 0 var(--space-md);
  }

  /* Hero adjustments */
  .hero {
    padding: var(--nav-height) var(--space-md) var(--space-lg);
  }

  .hero-title {
    flex-direction: column;
    gap: 0;
  }

  /* Stats grid - 2 columns on mobile */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Strategy grid - single column */
  .strategy-grid {
    gap: var(--space-lg);
  }

  /* Team grid - single column */
  .team-grid {
    grid-template-columns: 1fr;
  }

  /* Touch-friendly tap targets */
  .genre-tag {
    min-height: 44px;
    padding: 0.75rem 1.5rem;
    display: inline-flex;
    align-items: center;
  }

  .contact-email {
    min-height: 44px;
    padding: var(--space-sm) 0;
  }

  .cta-button,
  .nav-cta {
    min-height: 44px;
    padding: 0.875rem 1.75rem;
  }

  .checkbox-label {
    min-height: 44px;
    padding: var(--space-sm) 0;
  }
}

/* ---------------------------------
   Tablet (768px and up)
   --------------------------------- */

@media (min-width: 768px) {
  .nav-hamburger {
    display: none;
  }

  .nav-links--desktop,
  .nav-cta--desktop {
    display: flex;
  }

  .section {
    padding: var(--space-2xl) 0;
  }

  .container {
    padding: 0 var(--space-lg);
  }
}

/* ---------------------------------
   Desktop (1024px and up)
   --------------------------------- */

@media (min-width: 1024px) {
  /* Most desktop styles handled by clamp() and auto-fit */
  /* Add any desktop-specific overrides here if needed */
}
```

Key points:
- Mobile-first: base styles are mobile, add breakpoints for larger screens
- 44px minimum touch targets on mobile for accessibility
- Hamburger hidden on desktop, desktop nav hidden on mobile
- Popover animations use transform/opacity for GPU acceleration
- @starting-style enables entry animations for popover
  </action>
  <verify>
- Resize browser to < 768px: hamburger visible, desktop nav hidden
- Resize browser to >= 768px: desktop nav visible, hamburger hidden
- Click hamburger on mobile: menu slides in from right
- Section padding reduces on mobile
- Genre tags, CTAs, contact emails all have adequate tap area on mobile
  </verify>
  <done>
Mobile menu styled with slide-in animation, responsive breakpoints at 767px and 1024px, touch targets meet 44px minimum on mobile, desktop nav shows/hides correctly at breakpoint.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add JavaScript for Menu Link Click Handler</name>
  <files>js/main.js</files>
  <action>
Add mobile menu link handling after the existing smooth scroll code (around line 37):

```javascript
/**
 * Mobile Menu Link Handling
 * Close mobile menu when clicking a navigation link
 */
const mobileMenu = document.getElementById('mobile-menu');

if (mobileMenu) {
  const mobileLinks = mobileMenu.querySelectorAll('a');

  mobileLinks.forEach(link => {
    link.addEventListener('click', () => {
      // Close the popover when a link is clicked
      mobileMenu.hidePopover();
    });
  });
}
```

This is needed because:
- Popover API doesn't auto-close on anchor link clicks
- User expects menu to close after selecting a destination
- hidePopover() is the native API method for closing popovers

Note: Do NOT add keyboard handling for Escape - the Popover API handles this automatically.
  </action>
  <verify>
- Open site in mobile viewport width
- Click hamburger to open menu
- Click any nav link (e.g., SUCCESS)
- Menu should close AND page should scroll to section
- Repeat for SUBMIT DEMOS CTA
  </verify>
  <done>
JavaScript closes mobile menu popover when any link inside is clicked, allowing navigation to proceed smoothly.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Desktop (> 768px):**
   - Standard nav with inline links visible
   - No hamburger button
   - All existing functionality works

2. **Mobile (< 768px):**
   - Hamburger button visible in nav
   - Desktop nav links hidden
   - Click hamburger -> full-screen menu slides in from right
   - Menu has close X button, all nav links, SUBMIT DEMOS CTA
   - Click link -> menu closes, page scrolls to section
   - Press Escape -> menu closes
   - Click outside menu -> menu closes (light-dismiss)

3. **Touch targets:**
   - Genre tags: 44px+ height
   - CTA buttons: 44px+ height
   - Contact emails: adequate tap area
   - Checkboxes: adequate tap area

4. **Tablet (768px-1023px):**
   - Desktop nav visible
   - Proper spacing and padding
</verification>

<success_criteria>
- [ ] NAV-04: Mobile hamburger menu works on screens < 768px
- [ ] RESP-01: Mobile-first responsive layout implemented
- [ ] RESP-02: Tablet breakpoint (768px) styling applied
- [ ] RESP-03: Desktop breakpoint (1024px) styling applied
- [ ] RESP-04: All tap targets minimum 44x44px on mobile
- [ ] Popover API provides keyboard accessibility (Esc closes)
- [ ] No regressions in desktop navigation
</success_criteria>

<output>
After completion, create `.planning/phases/03-polish-responsive/03-01-SUMMARY.md`
</output>
